nvidia:
  compiler:
      - toolchain: gcc
        spec: gcc
      - toolchain: llvm
        spec: nvhpc
  unify: when_possible
  mpi:
      spec: cray-mpich@8.1.30%nvhpc
      gpu: cuda
  specs:
  - boost%gcc ~mpi
  - python@3.10
  - cuda@12.6
  - eccodes@2.25.0%nvhpc +tools +fortran +aec +openmp jp2k=jasper
  - hdf5%nvhpc +szip +hl +fortran +mpi
  - netcdf-c%nvhpc
  - netcdf-cxx4%nvhpc
  - netcdf-fortran%nvhpc
  - osu-micro-benchmarks@5.9%nvhpc
  - openblas@0.3.21%nvhpc
  # everything needed for nccl on SS11
  - nccl%gcc
  - nccl-tests%gcc
  # extras
  - libfyaml
  - zlib-ng
  - cmake
  variants:
  - cuda_arch=90
  - +mpi
  - +cuda
  packages: []
  views:
    default:
      link: roots
